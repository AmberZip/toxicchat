local TextChatService = game:GetService("TextChatService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local channel = TextChatService.TextChannels:WaitForChild("RBXGeneral")

-- === Main Random Messages ===
local messages = {
    "Imagine thinking you're good ğŸ’€",
    "Bro plays like his monitor's off ğŸ˜¹",
    "You miss more than you hit ğŸ¤¡",
    "Lag can't explain that performance ğŸ˜­",
    "Skill issue. Cope harder ğŸ˜’",
    "Not even carried, just baggage ğŸ’",
    "Every time you load in, the lobby cries ğŸ’€",
    "Ratio'd in real life and in-game ğŸ“‰ğŸ“‰",
    "You're the reason the team loses ğŸ˜‚",
    "Playing like it's your first time ğŸ¼",
    "Even bots laugh at your gameplay ğŸ¤–ğŸ˜‚",
    "Did you install the game or the virus? ğŸ¦ ",
    "You got outplayed by a fridge ğŸ’¡",
    "If you were a loadout, you'd be all gray ğŸ’©",
    "Your presence lowers team morale ğŸ“‰",
    "You camp harder than summer break â›º",
    "Even the devs want you to uninstall ğŸ—‘ï¸",
    "Bro gets carried by gravity ğŸ¤•",
    "You're the lag, not on it ğŸ˜",
    "More bricks than a construction site ğŸ§±",
    "You play like a cutscene ğŸ˜´",
    "Bro's KD ratio spells 'help' ğŸ†˜",
    "You reload more than you shoot ğŸ”«ğŸ”„",
    "Even your shadow left mid-match â˜ ï¸",
    "Iâ€™ve seen toasters react faster ğŸ”Œ",
    "You aim like you closed your eyes ğŸ‘€âœ–ï¸",
    "Game sense? You have game nonsense ğŸš«",
    "Youâ€™re the reason tutorials exist ğŸ“š",
    "You peak corners like itâ€™s peekaboo ğŸ‘¶",
    "If dying was a skill, youâ€™d be pro ğŸ†",
    "Whole lobby sees you and thinks 'free kill' ğŸ¯",
    "Your highlight reel is just respawns ğŸ”",
    "You drop in like loot, and die like one too ğŸ“¦"
}

-- === Trigger Word Lists ===
local triggers = {
    Accusations = {"hacker", "cheater", "scripter", "script", "exploit", "exploiter", "hacking", "exploiting"},
    SkillTrash = {"you're bad", "trash", "noob", "ez", "carried", "get good", "skill issue"},
    TryhardClaims = {"tryhard", "sweat", "nerd", "no life", "touch grass", "overkill"},
    Crybabies = {"unfair", "report", "stop", "toxic", "abuse", "why", "please"},
    LagBlamers = {"lag", "ping", "rubberband", "delay", "desync"},
    OneVOne = {"1v1", "duel", "fight me", "square up", "mano a mano"},
    Hackusation2 = {"aimbot", "esp", "wallhack", "auto aim", "snap aim"},
    Carried = {"carried", "deadweight", "backpack", "useless", "bottom frag"},
    RandomToxic = {"kid", "mad", "cry", "salty", "rage", "baby"},
    GearBlamers = {"pay to win", "op weapon", "unfair gun", "broken kit", "nerf this"}
}

-- === Custom Reply Lists ===
local replies = {
    Accusations = {
        "%s, cry harder. Even your accusations are mid ğŸ’€",
        "You're just mad you're bad, %s. Cope and seethe ğŸ˜­",
        "%s blaming scripts like they didnâ€™t walk into bullets ğŸ’€",
        "Even anti-cheat laughed at your complaint, %s ğŸ¤¡",
        "Skill gap so wide, %s called it a glitch ğŸšª"
    },
    SkillTrash = {
        "%s, you talk big for someone bottom fragging every game ğŸ—‘ï¸",
        "Loud words for low stats, %s ğŸ“‰",
        "You're one more loss away from uninstalling, %s ğŸ˜­",
        "Noob? %s, you're the pre-installed version ğŸ˜",
        "The only thing you carry is failure, %s ğŸ’¼"
    },
    TryhardClaims = {
        "%s, sorry Iâ€™m good and youâ€™re not ğŸ˜ˆ",
        "Skill is free, %s. Grass is DLC ğŸŒ±",
        "Blaming effort? Stay bronze, %s ğŸ¥‰",
        "You're allergic to effort huh, %s ğŸ¤§",
        "Maybe try harding at not being garbage, %s ğŸ’€"
    },
    Crybabies = {
        "Oh no, %s is crying again ğŸ˜­",
        "Skill hurts your feelings, %s? Good ğŸ’€",
        "%s reporting me like it's gonna fix your skill issue ğŸ“‹",
        "This isnâ€™t a daycare, %s ğŸ’¢",
        "Your tears power my KD, %s ğŸ”¥"
    },
    LagBlamers = {
        "Sure, %s. Blame lag instead of your slow brain ğŸ§ ğŸ“¶",
        "Lag didnâ€™t make you walk into my shots, %s ğŸ’€",
        "%s blaming ping while standing still like a statue ğŸ—¿",
        "Your ping isn't the problem, it's your aim %s ğŸ‘“",
        "Lag? More like excuses.exe, %s ğŸ”§"
    },
    OneVOne = {
        "1v1? %s, you wouldnâ€™t survive the loading screen ğŸ–¥ï¸",
        "I'd 1v1 you but bullying is against TOS, %s ğŸ¤¡",
        "Your KD canâ€™t even 1v1 gravity, %s ğŸ“‰",
        "%s, youâ€™d bring a knife to a nuke fight â˜¢ï¸",
        "1v1? You'd still lose with walls turned off, %s ğŸ˜‚"
    },
    Hackusation2 = {
        "Aimbot? Nah %s, just raw talent ğŸ’¯",
        "Wallhacks? Or just wallbanged your ego, %s ğŸ¯",
        "%s really said ESP while staring at spawn ğŸ¥²",
        "Youâ€™d still lose if I played blindfolded, %s ğŸ¥·",
        "Aim too clean? Thanks for the compliment %s ğŸ˜"
    },
    Carried = {
        "%s, I carry harder than DoorDash ğŸ›’",
        "You weigh down the team like lag, %s ğŸ§±",
        "%s is just a spectator with a gun ğŸ¥ğŸ”«",
        "Youâ€™re not even carried, youâ€™re cargo ğŸšš %s",
        "Team player? Nah, you're team burden, %s ğŸ“‰"
    },
    RandomToxic = {
        "You mad, %s? You sound like a Discord mod losing mod powers ğŸ§‚",
        "Cry louder, %s. Iâ€™m farming salt today ğŸ’§",
        "%s raging like itâ€™s ranked in 2012 ğŸ’€",
        "Go outside %s. Touching grass isnâ€™t lethal ğŸŒ±",
        "%s brings nothing but noise and disappointment ğŸ§"
    },
    GearBlamers = {
        "You said OP weapon, %s? Sounds like a skill diff ğŸ’€",
        "Broken kit? More like broken ego, %s ğŸ§ ",
        "%s blaming gear like I didn't outplay you with it ğŸ”«",
        "Pay to win? You didnâ€™t even try, %s ğŸ’¤",
        "%s crying over loadouts instead of learning ğŸ’¡"
    }
}

-- === Utility Functions ===
local function shuffle(t)
    local n = #t
    for i = n, 2, -1 do
        local j = math.random(i)
        t[i], t[j] = t[j], t[i]
    end
end

local function containsTrigger(text, triggerList)
    local lowered = text:lower()
    for _, trigger in ipairs(triggerList) do
        if string.find(lowered, trigger) then
            return true
        end
    end
    return false
end

-- === Auto Spam Messages ===
task.spawn(function()
    while true do
        shuffle(messages)
        for _, msg in ipairs(messages) do
            if channel then
                channel:SendAsync(msg)
            end
            task.wait(5)
        end
    end
end)

-- === Reactive Insults ===
TextChatService.MessageReceived:Connect(function(message)
    local sender = message.TextSource
    local text = message.Text

    if not sender or sender.UserId == LocalPlayer.UserId then return end
    local name = sender.Name

    for category, triggerList in pairs(triggers) do
        if containsTrigger(text, triggerList) then
            local categoryReplies = replies[category]
            if categoryReplies then
                local reply = string.format(categoryReplies[math.random(1, #categoryReplies)], name)
                channel:SendAsync(reply)
                break
            end
        end
    end
end)
