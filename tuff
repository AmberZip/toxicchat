local TextChatService = game:GetService("TextChatService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local channel = TextChatService.TextChannels:WaitForChild("RBXGeneral")

-- === Random Chat Spam (Main Insults) ===
local messages = {
    "Bro got slapped into another server ğŸ’€",
    "You're walking knockback bait ğŸ˜¹",
    "You wear default glove like itâ€™s legendary ğŸ˜­",
    "Slapped you so hard your WiFi disconnected ğŸ”Œ",
    "Get a better glove or a better brain ğŸ§ ",
    "Bro still trying to use extended like it's 2022 ğŸ˜­",
    "Even Slapple slaps harder than you ğŸŒ´",
    "Your slaps are so weak, I gained HP ğŸ’ª",
    "Default glove user detected. Yikes ğŸ˜",
    "You dodge like a brick ğŸ§±",
    "I juked you so hard your glove went missing ğŸ§¤",
    "You're not lagging, you're just trash ğŸ’€",
    "That slap was so soft, it healed me ğŸ’¤",
    "You use Mail? Bro you ARE the package ğŸ“¦",
    "You slapped once and passed out ğŸ’¢",
    "I've seen AFK players do more than you ğŸ˜´",
    "Try using a glove that doesn't scream 'I gave up' ğŸ—‘ï¸",
    "You touched the plate and died instantly ğŸ’€",
    "Bro got hit by a bus and blamed lag ğŸšğŸ“¶",
    "My alt slaps better than you ğŸ†˜",
    "You have more deaths than slaps ğŸ’€",
    "Your glove should be called 'Apology' ğŸ’¬",
    "I slapped you so far you're in Ohio now ğŸ›«",
    "Broâ€™s in the game but never in the leaderboard ğŸ“‰",
    "Youâ€™re the reason we can't have nice gloves ğŸ˜©",
    "Every time you respawn, the server sighs ğŸ« ",
    "You just stood there and took it ğŸ¤·â€â™‚ï¸",
    "Even the pit said 'nah, not worth it' ğŸ•³ï¸",
    "Slapped your brain cells into cooldown ğŸ§ ğŸ”",
    "Your knockback is negative ğŸ˜­"
}

-- === Trigger Word Categories ===
local triggers = {
    HackerClaims = {"hacker", "script", "exploiter", "cheater", "hack", "hacking", "exploit", "aimbot"},
    GloveTrash = {"bad glove", "trash glove", "default", "bad", "noob", "weak"},
    TryhardAccuse = {"tryhard", "sweat", "nerd", "overkill", "no life"},
    Crying = {"stop", "unfair", "report", "abuse", "target", "spam", "why", "please"},
    LagExcuses = {"lag", "ping", "delay", "rubberband", "desync", "bug"},
    1v1Talk = {"1v1", "duel", "fight me", "mano a mano"},
    AbilitiesCry = {"overpowered", "op glove", "broken glove", "nerf", "unbalanced"},
    DeathBlame = {"glove diff", "map diff", "spawn kill", "rng", "random"},
    RageWords = {"mad", "cry", "salty", "rage", "kid", "baby"},
    SlapFarmSalt = {"farm", "farming", "slap farm", "farming kills", "grind"}
}

-- === Replies per Category ===
local replies = {
    HackerClaims = {
        "%s screaming 'hacker' because they touched the void instantly ğŸ’€",
        "Skill issues are not hacks, %s ğŸ˜­",
        "Bro said 'exploiter' because he can't dodge ğŸ˜¹",
        "Even anti-cheat thinks you're coping, %s ğŸ§ ",
        "You got outslapped fair and square, %s ğŸ§¤"
    },
    GloveTrash = {
        "%s crying about gloves while wearing Default ğŸ˜­",
        "Pick a better glove, or better skill, %s ğŸ˜",
        "Trash glove? Nah, just trash skill, %s ğŸ’©",
        "%s you slap like you're on cooldown ğŸ’¤",
        "Iâ€™ve seen potatoes slap harder than you %s ğŸ¥”"
    },
    TryhardAccuse = {
        "%s crying 'tryhard' while standing still ğŸ¤¡",
        "Sorry Iâ€™m not roleplaying death like you, %s ğŸ˜­",
        "Itâ€™s called aiming, %s. Try it sometime ğŸ‘€",
        "Get better or get out the arena, %s ğŸ¥Š",
        "%s blaming effort? Touch the plate already ğŸ’€"
    },
    Crying = {
        "%s you sound like a glove-less beta tester ğŸ˜­",
        "This isnâ€™t a daycare, %s ğŸ’¢",
        "If I wanted tears, Iâ€™d go to the pit, %s ğŸ•³ï¸",
        "%s filed a bug report because they got slapped ğŸ˜¹",
        "Report all you want, I'm still slapping ğŸ§¤"
    },
    LagExcuses = {
        "Lag didnâ€™t slap you off the map, %s ğŸ˜­",
        "%s blaming ping when they stood still for 5 seconds ğŸ§",
        "You lagged because I slapped you into next week ğŸ˜´",
        "Internet can't fix your decisions, %s ğŸ”Œ",
        "Even your ping gave up, %s ğŸ“¶"
    },
    1v1Talk = {
        "1v1? %s youâ€™d lose the loading screen ğŸ˜¹",
        "%s wants a duel but runs off cooldown ğŸ˜­",
        "Square up? You canâ€™t even square jump ğŸŸ¦",
        "I donâ€™t 1v1 glove collectors, %s ğŸ§¤ğŸ§¤ğŸ§¤",
        "%s gonna bring Flashlight to a Shard fight ğŸ’€"
    },
    AbilitiesCry = {
        "%s blaming my glove like it's not your fault ğŸ˜",
        "Overpowered? Nah, just underplayed, %s ğŸ§ ",
        "Learn to counter or keep crying, %s ğŸ¼",
        "The glove isnâ€™t broken, you are, %s ğŸ’€",
        "Youâ€™d cry if I slapped you with Brick, %s ğŸ§±"
    },
    DeathBlame = {
        "Map diff? Nah, itâ€™s just slap diff, %s ğŸ“‰",
        "You died to gravity and cried RNG, %s ğŸŒ",
        "Spawn kill? Bro walked into the pit himself ğŸ’€",
        "Stop blaming the environment, %s ğŸŒªï¸",
        "Just say you got clapped and move on %s ğŸ‘‹"
    },
    RageWords = {
        "%s sounds like they got sent back to spawn again ğŸ˜­",
        "So much salt Iâ€™m cooking dinner, %s ğŸ§‚",
        "Crying louder wonâ€™t slap me back, %s ğŸ’€",
        "Youâ€™re raging like it's 5 slaps to go ğŸ§¨",
        "%s is madder than Bubble cooldown ğŸ”¥"
    },
    SlapFarmSalt = {
        "%s called it farming because they stood still ğŸ˜",
        "You got farmed like a potato, %s ğŸ¥”",
        "AFK grinding? Nah, youâ€™re just a free slap, %s ğŸ’€",
        "Every slap you give is charity, %s ğŸ’¸",
        "Youâ€™re farming deaths, %s ğŸ“‰"
    }
}

-- === Utilities ===
local function shuffle(t)
    for i = #t, 2, -1 do
        local j = math.random(i)
        t[i], t[j] = t[j], t[i]
    end
end

local function containsTrigger(text, triggerList)
    local lowered = text:lower()
    for _, word in ipairs(triggerList) do
        if string.find(lowered, word) then
            return true
        end
    end
    return false
end

-- === Random Chat Spam ===
task.spawn(function()
    while true do
        shuffle(messages)
        for _, msg in ipairs(messages) do
            if channel then
                channel:SendAsync(msg)
            end
            task.wait(5)
        end
    end
end)

-- === Triggered Response System ===
TextChatService.MessageReceived:Connect(function(message)
    local sender = message.TextSource
    if not sender or sender.UserId == LocalPlayer.UserId then return end

    local text = message.Text
    local name = sender.Name

    for category, list in pairs(triggers) do
        if containsTrigger(text, list) then
            local roastList = replies[category]
            if roastList then
                local reply = string.format(roastList[math.random(1, #roastList)], name)
                channel:SendAsync(reply)
                break
            end
        end
    end
end)
