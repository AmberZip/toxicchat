local TextChatService = game:GetService("TextChatService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local channel = TextChatService.TextChannels:WaitForChild("RBXGeneral")

-- === Random Chat Spam (Main Insults) ===
local messages = {
    "Bro got slapped into another server 💀",
    "You're walking knockback bait 😹",
    "You wear default glove like it’s legendary 😭",
    "Slapped you so hard your WiFi disconnected 🔌",
    "Get a better glove or a better brain 🧠",
    "Bro still trying to use extended like it's 2022 😭",
    "Even Slapple slaps harder than you 🌴",
    "Your slaps are so weak, I gained HP 💪",
    "Default glove user detected. Yikes 😐",
    "You dodge like a brick 🧱",
    "I juked you so hard your glove went missing 🧤",
    "You're not lagging, you're just trash 💀",
    "That slap was so soft, it healed me 💤",
    "You use Mail? Bro you ARE the package 📦",
    "You slapped once and passed out 💢",
    "I've seen AFK players do more than you 😴",
    "Try using a glove that doesn't scream 'I gave up' 🗑️",
    "You touched the plate and died instantly 💀",
    "Bro got hit by a bus and blamed lag 🚍📶",
    "My alt slaps better than you 🆘",
    "You have more deaths than slaps 💀",
    "Your glove should be called 'Apology' 💬",
    "I slapped you so far you're in Ohio now 🛫",
    "Bro’s in the game but never in the leaderboard 📉",
    "You’re the reason we can't have nice gloves 😩",
    "Every time you respawn, the server sighs 🫠",
    "You just stood there and took it 🤷‍♂️",
    "Even the pit said 'nah, not worth it' 🕳️",
    "Slapped your brain cells into cooldown 🧠🔁",
    "Your knockback is negative 😭"
}

-- === Trigger Word Categories ===
local triggers = {
    HackerClaims = {"hacker", "script", "exploiter", "cheater", "hack", "hacking", "exploit", "aimbot"},
    GloveTrash = {"bad glove", "trash glove", "default", "bad", "noob", "weak"},
    TryhardAccuse = {"tryhard", "sweat", "nerd", "overkill", "no life"},
    Crying = {"stop", "unfair", "report", "abuse", "target", "spam", "why", "please"},
    LagExcuses = {"lag", "ping", "delay", "rubberband", "desync", "bug"},
    1v1Talk = {"1v1", "duel", "fight me", "mano a mano"},
    AbilitiesCry = {"overpowered", "op glove", "broken glove", "nerf", "unbalanced"},
    DeathBlame = {"glove diff", "map diff", "spawn kill", "rng", "random"},
    RageWords = {"mad", "cry", "salty", "rage", "kid", "baby"},
    SlapFarmSalt = {"farm", "farming", "slap farm", "farming kills", "grind"}
}

-- === Replies per Category ===
local replies = {
    HackerClaims = {
        "%s screaming 'hacker' because they touched the void instantly 💀",
        "Skill issues are not hacks, %s 😭",
        "Bro said 'exploiter' because he can't dodge 😹",
        "Even anti-cheat thinks you're coping, %s 🧠",
        "You got outslapped fair and square, %s 🧤"
    },
    GloveTrash = {
        "%s crying about gloves while wearing Default 😭",
        "Pick a better glove, or better skill, %s 😐",
        "Trash glove? Nah, just trash skill, %s 💩",
        "%s you slap like you're on cooldown 💤",
        "I’ve seen potatoes slap harder than you %s 🥔"
    },
    TryhardAccuse = {
        "%s crying 'tryhard' while standing still 🤡",
        "Sorry I’m not roleplaying death like you, %s 😭",
        "It’s called aiming, %s. Try it sometime 👀",
        "Get better or get out the arena, %s 🥊",
        "%s blaming effort? Touch the plate already 💀"
    },
    Crying = {
        "%s you sound like a glove-less beta tester 😭",
        "This isn’t a daycare, %s 💢",
        "If I wanted tears, I’d go to the pit, %s 🕳️",
        "%s filed a bug report because they got slapped 😹",
        "Report all you want, I'm still slapping 🧤"
    },
    LagExcuses = {
        "Lag didn’t slap you off the map, %s 😭",
        "%s blaming ping when they stood still for 5 seconds 🧍",
        "You lagged because I slapped you into next week 😴",
        "Internet can't fix your decisions, %s 🔌",
        "Even your ping gave up, %s 📶"
    },
    1v1Talk = {
        "1v1? %s you’d lose the loading screen 😹",
        "%s wants a duel but runs off cooldown 😭",
        "Square up? You can’t even square jump 🟦",
        "I don’t 1v1 glove collectors, %s 🧤🧤🧤",
        "%s gonna bring Flashlight to a Shard fight 💀"
    },
    AbilitiesCry = {
        "%s blaming my glove like it's not your fault 😐",
        "Overpowered? Nah, just underplayed, %s 🧠",
        "Learn to counter or keep crying, %s 🍼",
        "The glove isn’t broken, you are, %s 💀",
        "You’d cry if I slapped you with Brick, %s 🧱"
    },
    DeathBlame = {
        "Map diff? Nah, it’s just slap diff, %s 📉",
        "You died to gravity and cried RNG, %s 🌍",
        "Spawn kill? Bro walked into the pit himself 💀",
        "Stop blaming the environment, %s 🌪️",
        "Just say you got clapped and move on %s 👋"
    },
    RageWords = {
        "%s sounds like they got sent back to spawn again 😭",
        "So much salt I’m cooking dinner, %s 🧂",
        "Crying louder won’t slap me back, %s 💀",
        "You’re raging like it's 5 slaps to go 🧨",
        "%s is madder than Bubble cooldown 🔥"
    },
    SlapFarmSalt = {
        "%s called it farming because they stood still 😐",
        "You got farmed like a potato, %s 🥔",
        "AFK grinding? Nah, you’re just a free slap, %s 💀",
        "Every slap you give is charity, %s 💸",
        "You’re farming deaths, %s 📉"
    }
}

-- === Utilities ===
local function shuffle(t)
    for i = #t, 2, -1 do
        local j = math.random(i)
        t[i], t[j] = t[j], t[i]
    end
end

local function containsTrigger(text, triggerList)
    local lowered = text:lower()
    for _, word in ipairs(triggerList) do
        if string.find(lowered, word) then
            return true
        end
    end
    return false
end

-- === Random Chat Spam ===
task.spawn(function()
    while true do
        shuffle(messages)
        for _, msg in ipairs(messages) do
            if channel then
                channel:SendAsync(msg)
            end
            task.wait(5)
        end
    end
end)

-- === Triggered Response System ===
TextChatService.MessageReceived:Connect(function(message)
    local sender = message.TextSource
    if not sender or sender.UserId == LocalPlayer.UserId then return end

    local text = message.Text
    local name = sender.Name

    for category, list in pairs(triggers) do
        if containsTrigger(text, list) then
            local roastList = replies[category]
            if roastList then
                local reply = string.format(roastList[math.random(1, #roastList)], name)
                channel:SendAsync(reply)
                break
            end
        end
    end
end)
